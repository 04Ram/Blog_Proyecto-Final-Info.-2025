
{% extends "app_noticias/base.html" %}
{% load static %}


    {%block contenido%}
    
        <img src="{{ noticias.imagen.url }}" alt="" width="300px">
        <h1>{{ noticias.titulo}}</h1>  
        <p>{{noticias.contenido}}</p> 

        <h4>Comentarios</h4>

        {% for comentario in object.comentarios.all %}
            <div class="border p-2 mb-2">
                <strong>{{ comentario.autor }}</strong>
                <small class="text-muted">{{ comentario.fecha }}</small>

                <p>{{ comentario.contenido }}</p>

                {% if user == comentario.autor or user.is_superuser or user.groups.all.0.name == "Colaboradores" %}
                    <a href="{% url 'editar_comentario' comentario.id %}">Editar</a> |
                    <a href="{% url 'eliminar_comentario' comentario.id %}">Eliminar</a>
                {% endif %}
            </div>
        {% empty %}
            <p>No hay comentarios aún.</p>
        {% endfor %}

        {% if user.is_authenticated %}
            <a href="{% url 'agregar_comentario' object.id %}" class="btn btn-primary btn-sm">
                Agregar comentario
            </a>
        {% else %}
            <p>Iniciá sesión para comentar.</p>
        {% endif %}

        {% if user.is_authenticated and es_colaborador %}
            <a href="{% url 'editar_noticia' object.id %}">Editar</a>
            <a href="{% url 'eliminar_noticia' object.id %}">Eliminar</a>
        {% endif %}





    {%endblock contenido%}



